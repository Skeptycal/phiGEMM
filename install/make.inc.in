#
# Copyright (C) 2011-2012 Quantum ESPRESSO Foundation
# Copyright (C) 2010-2011 Irish Centre for High-End Computing (ICHEC)
#
# This file is distributed under the terms of the
# GNU General Public License. See the file `License'
# in the root directory of the present package,
# or http://www.gnu.org/copyleft/gpl.txt .
#
# Author: Filippo Spiga (spiga.filippo@gmail.com)

.SUFFIXES :
.SUFFIXES : .o .c

# *** from Quantum ESPRESSO ***
# most FORTRAN compilers can directly preprocess c-like directives: use
# 	$(MPIF90) $(F90FLAGS) -c $<
# if explicit preprocessing by the C preprocessor is needed, use:
# 	$(CPP) $(CPPFLAGS) $< -o $*.F90 
#	$(MPIF90) $(F90FLAGS) -c $*.F90 -o $*.o
# remember the tabulator in the first column !!!

.c.o:
	$(NVCC) $(NVCC_FLAGS) $(GEMM_OPT) $(EXT_INC) -I../include/ -c $< -o $*.o 

PHIGEMM_TOP = .

AR          = @ar@
ARFLAGS     = @arflags@

CC          = @cc@
CFLAGS      = @ccflags@

FC          = @f90@
FFLAGS      = @f90flags@

CPP         = @cpp@
CPPFLAGS    = @cppflags@

LD              = @cc@
LD_FLAGS        = @ldflags@
LD_SHARED_FLAGS = @ldsharedflag@
FC_PREPROC_FLAG = @pre_fdflags@

NVCC        = @nvcc@
NVCC_FLAGS  = @nvccflags@

EXT_INC     = @cuda_include@
CUDA_LIB    = @cuda_libs@
LD_LIB      = @ld_libs@

CUDA_PATH   = @cuda_path@

GEMM_OPT    = @phigemm_opts@
